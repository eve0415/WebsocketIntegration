plugins {
  id 'java'
  id 'com.github.johnrengelman.shadow'
}

allprojects {
    apply plugin: 'java'
    apply plugin: 'com.github.johnrengelman.shadow'
    
    group = 'net.eve0415.spigot'
    version = '2.0-SNAPSHOT'
    
    targetCompatibility = 8
    sourceCompatibility = 8
    
    repositories {
        mavenCentral()
    }
    
    tasks.withType(JavaCompile) {
        options.encoding = 'UTF-8'
    }
}

dependencies {
    implementation project(path: ':papermc', configuration: 'shadow')
    implementation project(path: ':velocity', configuration: 'shadow')
    implementation project(path: ':sponge', configuration: 'shadow')
}

shadowJar {
    archiveFileName = "${project.name}-${project.version}.jar"
}

build.dependsOn(shadowJar);
