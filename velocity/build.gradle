plugins {
  id "org.jetbrains.kotlin.jvm"
  id "org.jetbrains.kotlin.kapt"
}

repositories {
  maven {
    name "velocity"
    url "https://nexus.velocitypowered.com/repository/maven-public/"
  }
}

// tasks.withType(JavaCompile) {
//   options.fork = true
//   targetCompatibility = 11
// }

tasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompile).configureEach {
  kotlinOptions { jvmTarget = 11 }
}

dependencies {
  implementation project(":common")

  compileOnly "com.velocitypowered:velocity-api:1.1.6-SNAPSHOT"
  kapt "com.velocitypowered:velocity-api:1.1.6-SNAPSHOT"
}

// blossom {
//   replaceTokenIn("src/main/kotlin/net/eve0415/mc/WebsocketIntegration/WSIVelocityPlugin.kt")
//   replaceToken "@project.version@", project.version
// }
